# apartment_appraiser
A system that can estimate the cost of apartments\
Система, позволяющая оценить стоимость квартир.
Через API:
- можно загрузить данные для обучения модели;
- загрузить данные для оценки;
- выгрузить модель


# build&up image
При запуске из папки проекта (где лежит Dockerfile)\
```docker build -t apartment_appraiser . ```, где "apartment_appraiser" - имя собираемого образа\
```docker run -d --name appraiser_cont -p 80:80 apartment_appraiser```, где "appraiser_cont" - имя поднимаемого контейнера, "apartment_appraiser" - имя используемого образа

# use
API доступна по адресу ```0.0.0.0:80/docs```

# description
- Для оценки используется модель множественной линейной регрессии из scikit-learn
- Используемые параметры для оценки: city_id, district_id, street_id, price, area_total, floor_num, rooms_cnt, building_year, wall_id, type
- При подготовке данных производится очистка от статистических выбросов (оценка с помощью qq-plot), обрабатываются NaN (в зависимости от поля либо заполняются модой, либо удаляются)
- Оценка используемых полей производится, по коеффициентам, формируемым моделью (приходят в ответе на "create_model")
- В файле для Jupyter можно посмотреть графики и проверки
- Для обучения модели на вход принимается csv с следующими полями: \
id              - ИД объекта\
status          - статус объекта (у всех sold - продан)\
city_id         - идентификатор города\
district_id     - идентификатор района\
street_id       - идентификатор улицы\
price           - последняя цена по которой объект был выставлен на продажу\
date_sold       - дата продажи обьекта\
sold_price      - цена за которую объект был продан\
metro_station_id- идентификатор ближайшей станции метро\
flat_on_floor   - положение квартиры на этаже (подъездной площадке)\
floor_num       - этаж\
floors_cnt      - количество этажей в доме\
rooms_cnt       - количество комнат\
bedrooms_cnt    - количество спален\
building_year   - год постройки дома\
area_total      - общая площадь\
area_live       - жилая площадь\
area_kitchen    - площадь кухни\
area_balcony    - площадь балконов\
builder_id      - ид застройщика (можно игнорировать)\
type            - тип объекта (квартира, комната, общежитие, пансионат, малосемейка)\
two_levels      - двухуровневая\
levels_count    - количество уровней\
bathroom        - тип сан. узла\
bathrooms_cnt   - количество сан. узлов (если NULL - значит 1)\
plate           - тип плиты\
windows         - тип окон\
territory       - описание придомовой территории, мнемоники объектов перечисленные через запятую\
keep            - тип отделки квартиры\
komunal_cost    - средняя стоимость коммунальных платежей\
series_id       - серия дома\
wall_id         - тип стен дома\
balcon          - тип балкона/балконов\
loggia          - наличие лоджии\
ceiling_height  - высота потолков\
closed_yard     - закрытый двор\
longitude       - долгота объекта\
latitude        - широта объекта
- Для оценки используется аналогичный csv, но без sold_price